@page "/AtendimentoCliente"
@using System.Threading.Tasks
@using Projeto_Odontpro.Models
@using Projeto_Odontpro.Configs

<div class="container">
    <div class="card">
      
        <div class="card-header">ATENDIMENTO AO CLIENTE</div>
        
        <div class="card-body">
            <label for="msg">Insira aqui a mensagem automática/lembrete:</label>
            <textarea id="msg" class="message-box" placeholder="Digite sua mensagem..." @bind="Message" rows="6"></textarea>

            <div class="checkbox-row">           
                <input id="selectAll" type="checkbox" @bind="SelectAllEmails" />
                <label for="selectAll">Selecionar todos os nomes ativos do banco de dados.</label>
               
            </div>

            <div class="actions">
                <button class="btn" @onclick="OnProceed">
                    <i class="bi bi-box-seam"></i> ENVIAR
                </button>
            </div>

            @if (!string.IsNullOrEmpty(Notification))
            {
                <p>@Notification</p>
            }

        

        </div>
    </div>
</div>

    
@code {
    private string Message { get; set; } = "";
    private bool SelectAllEmails { get; set; } = false;
    private string Notification { get; set; } = "";




    private async Task OnProceed()
    {
        Notification = "";


        if (string.IsNullOrWhiteSpace(Message))
        {
            Notification = "Digite uma mensagem antes de enviar.";
            return;
        }

        await Task.Delay(1000);



        Notification = SelectAllEmails
                ? "Mensagem pronta para envio a todos os e-mails ativos."
                : "Mensagem salva.";

  
    }
}
